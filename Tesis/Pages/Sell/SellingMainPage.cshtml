@page
@{
    ViewData["Title"] = "Vender";
}

    <div class="container">
        <h1>Vender y jugar</h1>

        <br />
        <div class="form-group">
            <div class="form-group col-md-6 offset-6">

                <h4>Total Actual</h4>
            </div>
        </div>
        <div class="form-row">

            <div class="form-group col-md-5">
                <input id="SearchBar" class="form-control mr-sm-2 " type="search" placeholder="Buscar" aria-label="Search">
            </div>

            <div class="form-group col-md-1">
                <button class="btn btn-success my-2 my-sm-0" type="submit">Buscar</button>
            </div>
            <div class="form-group col-md-6">
                
                <input id="Total" class="form-control mr-sm-2 " type="number" placeholder="Total" aria-label="Total">
            </div>

        </div>

        <div class="form-row">

            <div class="form-group col-md-6">
                <h4>Lista de productos</h4>
                <ul id="SearchProducts" class="list-group">
                    <li class="list-group-item">Nep's pudding</li>
                    <li class="list-group-item">Tsundere cake</li>
                    <li class="list-group-item">Blanc dessert</li>
                    <li class="list-group-item">Vert, just vert</li>
                    <li class="list-group-item">Gear's robot</li>
                </ul>
            </div>
            <div class="form-group col-md-6">
                <h4>Productos en venta</h4>
                <ul class="list-group">
                    <li class="list-group-item">Nep's pudding</li>

                </ul>
            </div>
        </div>
        <button type="button" class="btn btn-danger col-md-1 offset-9">Cancelar</button>
        <button type="button" class="btn btn-success col-1">Totalizar</button>
        <br />
    </div>

<script>

    $('#SearchBar').on('input', function () {
        $.ajax({
            type: "GET",
            url: "/Products/SearchProduct",
            dataType: "json",
            data: {
                SearchString: $(this).val()
            },
            contentType: 'application/json; charset=utf-8',
            //Here I'm
            success: function (response) {

                $(SearchProducts).empty();

                for (var i = 0; i < response.length; i++) {
                    $("<li class=\"list-group-item\">" + response[i].productName + "</li>").appendTo(SearchProducts);
                }

                //console.log("I returned from the server with this message: ", response);
            }
        });

        // $(this).val() // get the current value of the input field.
    });

</script>

<style type="text/css">
    #global {
        height: 300px;
        width: 200px;
        border: 1px solid #ddd;
        background: #f1f1f1;
        overflow-y: scroll;
    }

    #mensajes {
        height: auto;
    }

    .texto {
        padding: 4px;
        background: #fff;
    }
</style>
<div id="global">
    <div id="mensajes">
        <div class="texto">Mensaje 1</div>
        <div class="texto">Mensaje 2</div>
        <div class="texto">Mensaje 3</div>
        <div class="texto">Mensaje 4</div>
        <div class="texto">Mensaje 5</div>
        <div class="texto">Mensaje 6</div>
        <div class="texto">Mensaje 7</div>
        <div class="texto">Mensaje 8</div>
        <div class="texto">Mensaje 9</div>
        <div class="texto">Mensaje 10</div>
        <div class="texto">Mensaje 11</div>
        <div class="texto">Mensaje 12</div>
        <div class="texto">Mensaje 13</div>
        <div class="texto">Mensaje 14</div>
        <div class="texto">Mensaje 15</div>
    </div>
</div>


