@page
@{
    ViewData["Title"] = "Inventory";
}


<div class="container">
    <h1>Movimiento de inventario</h1>

    <br />

    <div class="form-row">

        <div class="form-group col-md-5">
            <input id="SearchBar" class="form-control mr-sm-2 " type="search" placeholder="Buscar" aria-label="Search">
        </div>

        <div class="form-group col-md-1">
            <button class="btn btn-success my-2 my-sm-0" type="submit">Buscar</button>
        </div>

        <div class="form-group col-md-2 offset-4">
            <button class="btn btn-danger my-2 my-sm-0">Inventario en 0</button>
        </div>

    </div>

    <div class="form-row">

        <div class="form-group col-md-6">
            <h4>Lista de productos</h4>
            <ul id="SearchProducts" class="list-group">
                <li class="list-group-item">Nep's pudding</li>
                <li class="list-group-item">Tsundere cake</li>
                <li class="list-group-item">Blanc dessert</li>
                <li class="list-group-item">Vert, just vert</li>
                <li class="list-group-item">Gear's robot</li>
            </ul>
        </div>
        <div class="form-group col-md-6">
            <h4>Productos en movimiento</h4>
            <ul class="list-group">
                <li class="list-group-item">Nep's pudding</li>
                
            </ul>
        </div>
    </div>

    <button type="button" class="btn btn-primary col-md-2 offset-10">Guardar Cambios</button>
    <br />
</div>

<script>

    $('#SearchBar').on('input', function () {
        $.ajax({
            type: "GET",
            url: "/Products/SearchProduct",
            dataType: "json",
            data: {
                SearchString: $(this).val()
            },
            contentType: 'application/json; charset=utf-8',
            //Here I'm
            success: function (response) {

                $(SearchProducts).empty();

                for (var i = 0; i < response.length; i++) {
                    $("<li class=\"list-group-item\">" + response[i].productName + "</li>").appendTo(SearchProducts);
                }

                //console.log("I returned from the server with this message: ", response);
            }
        });

        // $(this).val() // get the current value of the input field.
    });
    
</script>