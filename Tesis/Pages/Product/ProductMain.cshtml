@page
@{
    ViewData["Title"] = "Productos";
}

    <div class="container">
        <br />
        <h1> Productos </h1>
        <div class="form-row">
            <div class="form-group col-md-4">
                <input id="SearchBar"
                       oninput="SearchProduct(this.value)"
                       class="form-control mr-sm-2 "
                       type="search"
                       placeholder="Buscar productos"
                       aria-label="Search">
            </div>
            <div class="form-group col-md-1">
                <button class="btn btn-success my-2 my-sm-0" type="submit">Buscar</button>
            </div>


            <div class="form-group col-md-3 offset-4">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createProduct">Nuevo Producto</button>
                <a class="btn btn-success" href="/Inventory/InventoryMain">Mov Inventario</a>
            </div>



        </div>
        <br /><br />
        <div class="responsiveScrollProducts">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Producto</th>
                        <th scope="col">Precio</th>
                        <th scope="col">Unidades</th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody id="SearchProducts">
                    <tr id="ProductList"></tr>
                </tbody>
            </table>
            </div>
        </div>


        <!-- Modal -->
        <div class="modal fade" id="createProduct" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Crear Producto</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>



                    <div class="modal-body">

                        <form>

                            <div class="form-row">
                                <div class="form-group col-md-8 offset-2">
                                    <label for="name">Nombre del producto</label>
                                    <input type="text" class="form-control" id="Pname" placeholder="Nombre del producto">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-4 center-block offset-2">
                                    <label for="id">Precio</label>
                                    <input type="number" class="form-control" id="Pprice" placeholder="Precio del producto">
                                </div>
                                <div class="form-group col-md-4 center-block">
                                    <label for="id">Costo de pedido</label>
                                    <input type="number" class="form-control" id="Pcostk" placeholder="Costo por ordenar el producto">
                                </div>

                            </div>
                            <div class="form-row">

                                <div class="form-group col-md-8 center-block offset-2">
                                    <label for="user">Stock inicial</label>
                                    <input type="number" class="form-control" id="Pstock" placeholder="Numero de unidades iniciales del producto">
                                </div>

                            </div>


                        </form>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Cerrar</button>
                        <button type="button" class="btn btn-outline-success">Crear</button>
                    </div>
                </div>
            </div>
        </div>


        <!--Searcher-->
        <script>
            /*
            $('#SearchBar').on('input', function () {
                $.ajax({
                    type: "GET",
                    url: "/Products/SearchProduct",
                    dataType: "json",
                    data: {
                        SearchString: $(this).val()
                    },
                    contentType: 'application/json; charset=utf-8',
                    //Here I'm
                    success: function (response) {

                        $(SearchProducts).empty();

                        for (var i = 0; i < response.length; i++) {
                            $("<tr >" + " <th scope=\"row\">" + response[i].Id + "</th>" +
                                "<td>" + response[i].productName + "</td>" +
                                "<td>" + response[i].productPrice + "</td>" +
                                "<td>" + response[i].productStock + "</td>" +
                                "<td style=\"color:red\">Detalles</td>" +
                                "<td style=\"color:red\">Modificar</td>" +
                                "<td style=\"color:red\">Eliminar</td>" +
                                "</tr>").appendTo(SearchProducts);
                        }
                    }
                });
            });
            */
        </script>
